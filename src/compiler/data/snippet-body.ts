import { Placeholder } from "./placeholder.js";

//----------------------------------------------------------------------------------------------------------------------
// Data types
//----------------------------------------------------------------------------------------------------------------------

export type SnippetBodyLine = ReadonlyArray<string | Placeholder>;

//----------------------------------------------------------------------------------------------------------------------
// The body of a snippet
//----------------------------------------------------------------------------------------------------------------------

export class SnippetBody {
    //
    //------------------------------------------------------------------------------------------------------------------
    // Initialization
    //------------------------------------------------------------------------------------------------------------------

    constructor(public readonly lines: ReadonlyArray<SnippetBodyLine>) {}

    //------------------------------------------------------------------------------------------------------------------
    // Create a new body with an extra line
    //------------------------------------------------------------------------------------------------------------------

    line(...segments: SnippetBodyLine) {
        return new SnippetBody([...this.lines, segments]);
    }
}

export const body = new SnippetBody([]);
